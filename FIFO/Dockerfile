FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogc3FzLWZpZm8tYXBiCmltYWdlOiBhbnNpYmxlcGxheWJvb2tidW5kbGUvc3FzLWZpZm8t\
YXBiCmRlc2NyaXB0aW9uOiAnTWFuYWdlZCBzcXMgZmlmbyBxdWV1ZScKdGFnczoKICAtIGFtYXpv\
bgogIC0gc3FzCiAgLSBmaWZvCmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbApwbGFuczoK\
ICAtIG5hbWU6IGRlZmF1bHQKICAgIGRlc2NyaXB0aW9uOiBNYW5hZ2VkIFNRUyBGSUZPIFF1ZXVl\
CiAgICBmcmVlOiBmYWxzZQogICAgcGFyYW1ldGVyczoKICAgICAgLSBuYW1lOiBzdGFja19pZGVu\
dGlmaWVyCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogVW5pcXVlIFN0YWNr\
IElkZW50aWZpZXIKICAgICAgICBkZXNjcmlwdGlvbjogJ1VuaXF1ZSBpZGVudGlmaWVyIHRvIGJl\
IGluY2x1ZGVkIGluIHRoZSBDbG91ZEZvcm1hdGlvbiBTdGFjayBOYW1lIHRvIHByZXZlbnQgbmFt\
aW5nIGNvbGxpc2lvbnMuIE11c3Qgb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJz\
IGFuZCBoeXBoZW5zLiAoZS5nLiAic2FtcGxlLXNxcy1maWZvLXN0YWNrIiwgInByb2R1Y3Rpb24t\
c3FzLWZpZm8tMDgtMjAxNyIpJwogICAgICAgIHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IGF3\
c19hY2Nlc3Nfa2V5CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQVdTIEFj\
Y2VzcyBLZXkKICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBBY2Nlc3MgS2V5IHRvIGF1dGhlbnRp\
Y2F0ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogYXdz\
X3NlY3JldF9rZXkKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgU2Vj\
cmV0IEtleQogICAgICAgIGRlc2NyaXB0aW9uOiAnQVdTIFNlY3JldCBLZXkgdG8gYXV0aGVudGlj\
YXRlIHRvIEFXUyB3aXRoLicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiByZWdp\
b24KICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBBV1MgUmVnaW9uCiAgICAg\
ICAgZGVzY3JpcHRpb246ICdBV1MgUmVnaW9uIHRvIGNyZWF0ZSBSRFMgaW5zdGFuY2UgaW4uJwog\
ICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgIGRlZmF1bHQ6ICJ1cy13ZXN0LTIiCiAgICAgIC0g\
bmFtZTogQ29udGVudEJhc2VkRGVkdXBsaWNhdGlvbgogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAg\
ICAgICAgdGl0bGU6IENvbnRlbnQgQmFzZWQgRHVwbGljYXRpb24KICAgICAgICBkZXNjcmlwdGlv\
bjogJ3NwZWNpZmllcyB3aGV0aGVyIHRvIGVuYWJsZSBjb250ZW50LWJhc2VkIGRlZHVwbGljYXRp\
b24nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICAtIG5h\
bWU6IFF1ZXVlTmFtZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFN1YnNj\
cmlwdGlvbiBQcm90b2NvbAogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG5hbWUgb2YgdGhlIFF1\
ZXVlIHRoaXMgc3RhY2sgd2lsbCBhcHBlbmQgLmZpZm8gdG8gdGhlIG5hbWUgcHJvdmlkZWQgaGVy\
ZScKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBEZWxheVNlY29uZHMKICAgICAg\
ICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBEZWxheSBTZWNvbmRzCiAgICAgICAgZGVz\
Y3JpcHRpb246ICdUaGUgSWQgb2YgdGhlIEFNSSB5b3Ugd2lzaCB0byBsYXVuY2ggdGhlIGluc3Rh\
bmNlIGZyb20uJwogICAgICAgIHR5cGU6IGludAogICAgICAgIGRlZmF1bHQ6IDUKICAgICAgLSBu\
YW1lOiBNYXhpbXVtTWVzc2FnZVNpemUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRp\
dGxlOiBNYXhpbXVtIE1lc3NhZ2UgU2l6ZQogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIGxpbWl0\
IG9mIGhvdyBtYW55IGJ5dGVzIHRoYXQgYSBtZXNzYWdlIGNhbiBjb250YWluIGJlZm9yZSBBbWF6\
b24gU1FTIHJlamVjdHMgaXQsIDEwMjQgYnl0ZXMgKDEgS2lCKSB0byAyNjIxNDQgYnl0ZXMgKDI1\
NiBLaUIpJwogICAgICAgIHR5cGU6IGludAogICAgICAgIGRlZmF1bHQ6IDI2MjE0NAogICAgICAt\
IG5hbWU6IE1lc3NhZ2VSZXRlbnRpb25QZXJpb2QKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAg\
ICAgIHRpdGxlOiBNZXNzYWdlIFJldGVudGlvbiBQZXJpb2QKICAgICAgICBkZXNjcmlwdGlvbjog\
J1RoZSBudW1iZXIgb2Ygc2Vjb25kcyB0aGF0IEFtYXpvbiBTUVMgcmV0YWlucyBhIG1lc3NhZ2Uu\
IFlvdSBjYW4gc3BlY2lmeSBhbiBpbnRlZ2VyIHZhbHVlIGZyb20gNjAgc2Vjb25kcyAoMSBtaW51\
dGUpIHRvIDEyMDk2MDAgc2Vjb25kcyAoMTQgZGF5cykuJwogICAgICAgIHR5cGU6IGludAogICAg\
ICAgIGRlZmF1bHQ6IDM0NTYwMAogICAgICAtIG5hbWU6IFJlY2VpdmVNZXNzYWdlV2FpdFRpbWVT\
ZWNvbmRzCiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogUmVjZWl2ZSBNZXNz\
YWdlIFdhaXQgVGltZSBTZWNvbmRzCiAgICAgICAgZGVzY3JpcHRpb246ICdTcGVjaWZpZXMgdGhl\
IGR1cmF0aW9uLCBpbiBzZWNvbmRzLCB0aGF0IHRoZSBSZWNlaXZlTWVzc2FnZSBhY3Rpb24gY2Fs\
bCB3YWl0cyB1bnRpbCBhIG1lc3NhZ2UgaXMgaW4gdGhlIHF1ZXVlIGluIG9yZGVyIHRvIGluY2x1\
ZGUgaXQgaW4gdGhlIHJlc3BvbnNlLCBhcyBvcHBvc2VkIHRvIHJldHVybmluZyBhbiBlbXB0eSBy\
ZXNwb25zZSBpZiBhIG1lc3NhZ2UgaXMgbm90IHlldCBhdmFpbGFibGUuIDEgdG8gMjAnCiAgICAg\
ICAgdHlwZTogaW50CiAgICAgICAgZGVmYXVsdDogMAogICAgICAtIG5hbWU6IFVzZWRlYWRsZXR0\
ZXJRdWV1ZQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgdGl0bGU6IFVzZSBEZWFkIExl\
dHRlciBRdWV1ZQogICAgICAgIGRlc2NyaXB0aW9uOiAnQSBkZWFkLWxldHRlciBxdWV1ZSBpcyBh\
IHF1ZXVlIHRoYXQgb3RoZXIgKHNvdXJjZSkgcXVldWVzIGNhbiB0YXJnZXQgZm9yIG1lc3NhZ2Vz\
IHRoYXQgY2FuIG5vdCBiZSBwcm9jZXNzZWQgKGNvbnN1bWVkKSBzdWNjZXNzZnVsbHkuIFlvdSBj\
YW4gc2V0IGFzaWRlIGFuZCBpc29sYXRlIHRoZXNlIG1lc3NhZ2VzIGluIHRoZSBkZWFkLWxldHRl\
ciBxdWV1ZSB0byBkZXRlcm1pbmUgd2h5IHRoZWlyIHByb2Nlc3NpbmcgZG9lcyBub3Qgc3VjY2Vl\
ZC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogImZhbHNlIgogICAgICAt\
IG5hbWU6IFZpc2liaWxpdHlUaW1lb3V0CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0\
aXRsZTogVmlzaWJpbGl0eSBUaW1lb3V0CiAgICAgICAgZGVzY3JpcHRpb246ICdUaGlzIHNob3Vs\
ZCBiZSBsb25nZXIgdGhhbiB0aGUgdGltZSBpdCB3b3VsZCB0YWtlIHRvIHByb2Nlc3MgYW5kIGRl\
bGV0ZSBhIG1lc3NhZ2UsIHRoaXMgc2hvdWxkIG5vdCBleGNlZWQgMTIgaG91cnMuJwogICAgICAg\
IHR5cGU6IGludAogICAgICAgIGRlZmF1bHQ6IDUKICAgIG1ldGFkYXRhOgogICAgICAgIGRpc3Bs\
YXlOYW1lOiAiQW1hem9uIFNRUyIKICAgICAgICBsb25nRGVzY3JpcHRpb246ICJBbWF6b24gU2lt\
cGxlIFF1ZXVlIFNlcnZpY2UgKEFtYXpvbiBTUVMpIGlzIGEgZnVsbHkgbWFuYWdlZCBtZXNzYWdl\
IHF1ZXVpbmcgc2VydmljZSB0aGF0IG1ha2VzIGl0IGVhc3kgdG8gZGVjb3VwbGUgYW5kIHNjYWxl\
IG1pY3Jvc2VydmljZXMsIGRpc3RyaWJ1dGVkIHN5c3RlbXMsIGFuZCBzZXJ2ZXJsZXNzIGFwcGxp\
Y2F0aW9ucy4gQW1hem9uIFNRUyBtb3ZlcyBkYXRhIGJldHdlZW4gZGlzdHJpYnV0ZWQgYXBwbGlj\
YXRpb24gY29tcG9uZW50cyBhbmQgaGVscHMgeW91IGRlY291cGxlIHRoZXNlIGNvbXBvbmVudHMu\
IgogICAgICAgIGltYWdlVXJsOiAiaHR0cHM6Ly9kMC5hd3NzdGF0aWMuY29tL2Nsb3VkLXN0b3Jh\
Z2UvRGVja19EYXRhYmFzZXMucG5nIgogICAgICAgIGRvY3VtZW50YXRpb25Vcmw6ICJodHRwczov\
L2F3cy5hbWF6b24uY29tL2RvY3VtZW50YXRpb24vc3FzLyIKICAgICAgICBjb3N0OiAkMC4wMAo="



USER apb
