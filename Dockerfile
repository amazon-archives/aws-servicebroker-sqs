FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogc3FzLWFwYgppbWFnZTogYW5zaWJsZXBsYXlib29rYnVuZGxlL3Nxcy1hcGIKZGVzY3Jp\
cHRpb246IEFtYXpvbiBNYW5hZ2VkIFNRUyBRdWV1ZSBBUEIgSW1wbGVtZW50YXRpb24KdGFnczoK\
ICAtIGFtYXpvbgogIC0gc3FzCiAgLSBzdGFuZGFyZApiaW5kYWJsZTogdHJ1ZQphc3luYzogb3B0\
aW9uYWwKbWV0YWRhdGE6CiAgZGlzcGxheU5hbWU6ICJBbWF6b24gU1FTIFF1ZXVlIChBUEIpIgog\
IGltYWdlVXJsOiAiaHR0cHM6Ly9kMC5hd3NzdGF0aWMuY29tL2Nsb3VkLXN0b3JhZ2UvRGVja19E\
YXRhYmFzZXMucG5nIgogIGRvY3VtZW50YXRpb25Vcmw6ICJodHRwczovL2F3cy5hbWF6b24uY29t\
L2RvY3VtZW50YXRpb24vc3FzLyIKICBkZXBlbmRlbmNpZXM6IFsnZG9ja2VyLmlvL2Fuc2libGVw\
bGF5Ym9va2J1bmRsZS9zcXMtYXBiOmxhdGVzdCddCiAgbG9uZ0Rlc2NyaXB0aW9uOiAiQW1hem9u\
IFNpbXBsZSBRdWV1ZSBTZXJ2aWNlIChBbWF6b24gU1FTKSBpcyBhIGZ1bGx5IG1hbmFnZWQgbWVz\
c2FnZSBxdWV1aW5nIHNlcnZpY2UgdGhhdCBtYWtlcyBpdCBlYXN5IHRvIGRlY291cGxlIGFuZCBz\
Y2FsZSBtaWNyb3NlcnZpY2VzLCBkaXN0cmlidXRlZCBzeXN0ZW1zLCBhbmQgc2VydmVybGVzcyBh\
cHBsaWNhdGlvbnMuIEFtYXpvbiBTUVMgbW92ZXMgZGF0YSBiZXR3ZWVuIGRpc3RyaWJ1dGVkIGFw\
cGxpY2F0aW9uIGNvbXBvbmVudHMgYW5kIGhlbHBzIHlvdSBkZWNvdXBsZSB0aGVzZSBjb21wb25l\
bnRzLiIKcGxhbnM6CiAgLSBuYW1lOiBzdGFuZGFyZAogICAgZGVzY3JpcHRpb246ICdNYW5hZ2Vk\
IFNRUyBRdWV1ZSAoU3RhbmRhcmQpJwogICAgZnJlZTogZmFsc2UKICAgIG1ldGFkYXRhOgogICAg\
ICBkaXNwbGF5TmFtZTogIkFtYXpvbiBTUVMgU3RhbmRhcmQiCiAgICAgIGxvbmdEZXNjcmlwdGlv\
bjogIlN0YW5kYXJkIFNRUyBBUEIiCiAgICAgIGNvc3Q6ICQwLjAwCiAgICBwYXJhbWV0ZXJzOgog\
ICAgICAtIG5hbWU6IHN0YWNrX2lkZW50aWZpZXIKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAg\
ICAgIHRpdGxlOiBVbmlxdWUgU3RhY2sgSWRlbnRpZmllcgogICAgICAgIGRlc2NyaXB0aW9uOiAn\
VW5pcXVlIGlkZW50aWZpZXIgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIENsb3VkRm9ybWF0aW9uIFN0\
YWNrIE5hbWUgdG8gcHJldmVudCBuYW1pbmcgY29sbGlzaW9ucy4gTXVzdCBvbmx5IGNvbnRhaW4g\
YWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYW5kIGh5cGhlbnMuIChlLmcuICJzYW1wbGUtc3FzLXN0\
YWNrIiwgInByb2R1Y3Rpb24tc3FzLTA5LTIwMTciKScKICAgICAgICB0eXBlOiBzdHJpbmcKICAg\
ICAgLSBuYW1lOiBhd3NfYWNjZXNzX2tleQogICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAg\
dGl0bGU6IEFXUyBBY2Nlc3MgS2V5CiAgICAgICAgZGVzY3JpcHRpb246ICdBV1MgQWNjZXNzIEtl\
eSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5cGU6IHN0cmluZwogICAg\
ICAtIG5hbWU6IGF3c19zZWNyZXRfa2V5CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0\
aXRsZTogQVdTIFNlY3JldCBLZXkKICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBTZWNyZXQgS2V5\
IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
IC0gbmFtZTogcmVnaW9uCiAgICAgICAgdGl0bGU6IEFXUyBSZWdpb24KICAgICAgICBkZXNjcmlw\
dGlvbjogJ0FXUyBSZWdpb24gdG8gY3JlYXRlIFJEUyBpbnN0YW5jZSBpbi4nCiAgICAgICAgdHlw\
ZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogInVzLXdlc3QtMiIKICAgICAgLSBuYW1lOiBEZWxh\
eVNlY29uZHMKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBEZWxheSBTZWNv\
bmRzCiAgICAgICAgZGVzY3JpcHRpb246ICdEZWxheSAoc2Vjb25kcyknCiAgICAgICAgdHlwZTog\
aW50CiAgICAgICAgZGVmYXVsdDogNQogICAgICAtIG5hbWU6IE1heGltdW1NZXNzYWdlU2l6ZQog\
ICAgICAgIHRpdGxlOiBNYXhpbXVtIE1lc3NhZ2UgU2l6ZQogICAgICAgIGRlc2NyaXB0aW9uOiAn\
VGhlIGxpbWl0IG9mIGhvdyBtYW55IGJ5dGVzIHRoYXQgYSBtZXNzYWdlIGNhbiBjb250YWluIGJl\
Zm9yZSBBbWF6b24gU1FTIHJlamVjdHMgaXQsIDEwMjQgYnl0ZXMgKDEgS2lCKSB0byAyNjIxNDQg\
Ynl0ZXMgKDI1NiBLaUIpJwogICAgICAgIHR5cGU6IGludAogICAgICAgIGRlZmF1bHQ6IDI2MjE0\
NAogICAgICAtIG5hbWU6IE1lc3NhZ2VSZXRlbnRpb25QZXJpb2QKICAgICAgICB0aXRsZTogTWVz\
c2FnZSBSZXRlbnRpb24gUGVyaW9kCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgbnVtYmVyIG9m\
IHNlY29uZHMgdGhhdCBBbWF6b24gU1FTIHJldGFpbnMgYSBtZXNzYWdlLiBZb3UgY2FuIHNwZWNp\
ZnkgYW4gaW50ZWdlciB2YWx1ZSBmcm9tIDYwIHNlY29uZHMgKDEgbWludXRlKSB0byAxMjA5NjAw\
IHNlY29uZHMgKDE0IGRheXMpLicKICAgICAgICB0eXBlOiBpbnQKICAgICAgICBkZWZhdWx0OiAz\
NDU2MDAKICAgICAgLSBuYW1lOiBSZWNlaXZlTWVzc2FnZVdhaXRUaW1lU2Vjb25kcwogICAgICAg\
IHRpdGxlOiBSZWNlaXZlIE1lc3NhZ2UgV2FpdCBUaW1lIFNlY29uZHMKICAgICAgICBkZXNjcmlw\
dGlvbjogJ1NwZWNpZmllcyB0aGUgZHVyYXRpb24sIGluIHNlY29uZHMsIHRoYXQgdGhlIFJlY2Vp\
dmVNZXNzYWdlIGFjdGlvbiBjYWxsIHdhaXRzIHVudGlsIGEgbWVzc2FnZSBpcyBpbiB0aGUgcXVl\
dWUgaW4gb3JkZXIgdG8gaW5jbHVkZSBpdCBpbiB0aGUgcmVzcG9uc2UsIGFzIG9wcG9zZWQgdG8g\
cmV0dXJuaW5nIGFuIGVtcHR5IHJlc3BvbnNlIGlmIGEgbWVzc2FnZSBpcyBub3QgeWV0IGF2YWls\
YWJsZS4gMSB0byAyMCcKICAgICAgICBlbnVtOiBbIjEiLCAiMiIsICIzIiwgIjQiLCAiNSIsICI2\
IiwgIjciLCAiOCIsICI5IiwgIjEwIiwgIjExIiwgIjEyIiwgIjEzIiwgIjE0IiwgIjE1IiwgIjE2\
IiwgIjE3IiwgIjE4IiwgIjE5IiwgIjIwIl0KICAgICAgICB0eXBlOiBlbnVtCiAgICAgICAgZGVm\
YXVsdDogIjEiCiAgICAgIC0gbmFtZTogVXNlZGVhZGxldHRlclF1ZXVlCiAgICAgICAgdGl0bGU6\
IFVzZSBEZWFkIExldHRlciBRdWV1ZQogICAgICAgIGRlc2NyaXB0aW9uOiAnQSBkZWFkLWxldHRl\
ciBxdWV1ZSBpcyBhIHF1ZXVlIHRoYXQgb3RoZXIgKHNvdXJjZSkgcXVldWVzIGNhbiB0YXJnZXQg\
Zm9yIG1lc3NhZ2VzIHRoYXQgY2FuIG5vdCBiZSBwcm9jZXNzZWQgKGNvbnN1bWVkKSBzdWNjZXNz\
ZnVsbHkuIFlvdSBjYW4gc2V0IGFzaWRlIGFuZCBpc29sYXRlIHRoZXNlIG1lc3NhZ2VzIGluIHRo\
ZSBkZWFkLWxldHRlciBxdWV1ZSB0byBkZXRlcm1pbmUgd2h5IHRoZWlyIHByb2Nlc3NpbmcgZG9l\
cyBub3Qgc3VjY2VlZC4nCiAgICAgICAgZW51bTogWyJ0cnVlIiwgImZhbHNlIl0KICAgICAgICB0\
eXBlOiBlbnVtCiAgICAgICAgZGVmYXVsdDogImZhbHNlIgogICAgICAtIG5hbWU6IFZpc2liaWxp\
dHlUaW1lb3V0CiAgICAgICAgdGl0bGU6IFZpc2liaWxpdHkgVGltZW91dAogICAgICAgIGRlc2Ny\
aXB0aW9uOiAnVGhpcyBzaG91bGQgYmUgbG9uZ2VyIHRoYW4gdGhlIHRpbWUgaXQgd291bGQgdGFr\
ZSB0byBwcm9jZXNzIGFuZCBkZWxldGUgYSBtZXNzYWdlLCB0aGlzIHNob3VsZCBub3QgZXhjZWVk\
IDEyIGhvdXJzLicKICAgICAgICB0eXBlOiBpbnQKICAgICAgICBkZWZhdWx0OiA1CiAgLSBuYW1l\
OiBmaWZvCiAgICBkZXNjcmlwdGlvbjogTWFuYWdlZCBTUVMgUXVldWUgKEZJRk8pCiAgICBmcmVl\
OiBmYWxzZQogICAgbWV0YWRhdGE6CiAgICAgIGRpc3BsYXlOYW1lOiAiQW1hem9uIFNRUyBGSUZP\
IgogICAgICBsb25nRGVzY3JpcHRpb246ICJGSUZPIFNRUyBBUEIiCiAgICAgIGNvc3Q6ICQwLjAw\
CiAgICBwYXJhbWV0ZXJzOiAKICAgICAgLSBuYW1lOiBDb250ZW50QmFzZWREZWR1cGxpY2F0aW9u\
CiAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB0aXRsZTogQ29udGVudCBCYXNlZCBEdXBs\
aWNhdGlvbgogICAgICAgIGRlc2NyaXB0aW9uOiAnc3BlY2lmaWVzIHdoZXRoZXIgdG8gZW5hYmxl\
IGNvbnRlbnQtYmFzZWQgZGVkdXBsaWNhdGlvbicKICAgICAgICBlbnVtOiBbInRydWUiLCAiZmFs\
c2UiXQogICAgICAgIHR5cGU6IGVudW0KICAgICAgICBkZWZhdWx0OiAidHJ1ZSIKICAgICAgLSBu\
YW1lOiBRdWV1ZU5hbWUKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBRdWV1\
ZSBOYW1lCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgbmFtZSBvZiB0aGUgUXVldWUgdGhpcyBz\
dGFjayB3aWxsIGFwcGVuZCAuZmlmbyB0byB0aGUgbmFtZSBwcm92aWRlZCBoZXJlJwogICAgICAg\
IHR5cGU6IHN0cmluZwogICAgICAtIG5hbWU6IHN0YWNrX2lkZW50aWZpZXIKICAgICAgICByZXF1\
aXJlZDogdHJ1ZQogICAgICAgIHRpdGxlOiBVbmlxdWUgU3RhY2sgSWRlbnRpZmllcgogICAgICAg\
IGRlc2NyaXB0aW9uOiAnVW5pcXVlIGlkZW50aWZpZXIgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIENs\
b3VkRm9ybWF0aW9uIFN0YWNrIE5hbWUgdG8gcHJldmVudCBuYW1pbmcgY29sbGlzaW9ucy4gTXVz\
dCBvbmx5IGNvbnRhaW4gYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgYW5kIGh5cGhlbnMuIChlLmcu\
ICJzYW1wbGUtc3FzLXN0YWNrIiwgInByb2R1Y3Rpb24tc3FzLTA5LTIwMTciKScKICAgICAgICB0\
eXBlOiBzdHJpbmcKICAgICAgLSBuYW1lOiBhd3NfYWNjZXNzX2tleQogICAgICAgIHJlcXVpcmVk\
OiB0cnVlCiAgICAgICAgdGl0bGU6IEFXUyBBY2Nlc3MgS2V5CiAgICAgICAgZGVzY3JpcHRpb246\
ICdBV1MgQWNjZXNzIEtleSB0byBhdXRoZW50aWNhdGUgdG8gQVdTIHdpdGguJwogICAgICAgIHR5\
cGU6IHN0cmluZwogICAgICAtIG5hbWU6IGF3c19zZWNyZXRfa2V5CiAgICAgICAgcmVxdWlyZWQ6\
IHRydWUKICAgICAgICB0aXRsZTogQVdTIFNlY3JldCBLZXkKICAgICAgICBkZXNjcmlwdGlvbjog\
J0FXUyBTZWNyZXQgS2V5IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlw\
ZTogc3RyaW5nCiAgICAgIC0gbmFtZTogcmVnaW9uCiAgICAgICAgdGl0bGU6IEFXUyBSZWdpb24K\
ICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBSZWdpb24gdG8gY3JlYXRlIFJEUyBpbnN0YW5jZSBp\
bi4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgZGVmYXVsdDogInVzLXdlc3QtMiIKICAg\
ICAgLSBuYW1lOiBEZWxheVNlY29uZHMKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIHRp\
dGxlOiBEZWxheSBTZWNvbmRzCiAgICAgICAgZGVzY3JpcHRpb246ICdUaGUgSWQgb2YgdGhlIEFN\
SSB5b3Ugd2lzaCB0byBsYXVuY2ggdGhlIGluc3RhbmNlIGZyb20uJwogICAgICAgIHR5cGU6IGlu\
dAogICAgICAgIGRlZmF1bHQ6IDUKICAgICAgLSBuYW1lOiBNYXhpbXVtTWVzc2FnZVNpemUKICAg\
ICAgICB0aXRsZTogTWF4aW11bSBNZXNzYWdlIFNpemUKICAgICAgICBkZXNjcmlwdGlvbjogJ1Ro\
ZSBsaW1pdCBvZiBob3cgbWFueSBieXRlcyB0aGF0IGEgbWVzc2FnZSBjYW4gY29udGFpbiBiZWZv\
cmUgQW1hem9uIFNRUyByZWplY3RzIGl0LCAxMDI0IGJ5dGVzICgxIEtpQikgdG8gMjYyMTQ0IGJ5\
dGVzICgyNTYgS2lCKScKICAgICAgICB0eXBlOiBpbnQKICAgICAgICBkZWZhdWx0OiAyNjIxNDQK\
ICAgICAgLSBuYW1lOiBNZXNzYWdlUmV0ZW50aW9uUGVyaW9kCiAgICAgICAgdGl0bGU6IE1lc3Nh\
Z2UgUmV0ZW50aW9uIFBlcmlvZAogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIG51bWJlciBvZiBz\
ZWNvbmRzIHRoYXQgQW1hem9uIFNRUyByZXRhaW5zIGEgbWVzc2FnZS4gWW91IGNhbiBzcGVjaWZ5\
IGFuIGludGVnZXIgdmFsdWUgZnJvbSA2MCBzZWNvbmRzICgxIG1pbnV0ZSkgdG8gMTIwOTYwMCBz\
ZWNvbmRzICgxNCBkYXlzKS4nCiAgICAgICAgdHlwZTogaW50CiAgICAgICAgZGVmYXVsdDogMzQ1\
NjAwCiAgICAgIC0gbmFtZTogUmVjZWl2ZU1lc3NhZ2VXYWl0VGltZVNlY29uZHMKICAgICAgICB0\
aXRsZTogUmVjZWl2ZSBNZXNzYWdlIFdhaXQgVGltZSBTZWNvbmRzCiAgICAgICAgZGVzY3JpcHRp\
b246ICdTcGVjaWZpZXMgdGhlIGR1cmF0aW9uLCBpbiBzZWNvbmRzLCB0aGF0IHRoZSBSZWNlaXZl\
TWVzc2FnZSBhY3Rpb24gY2FsbCB3YWl0cyB1bnRpbCBhIG1lc3NhZ2UgaXMgaW4gdGhlIHF1ZXVl\
IGluIG9yZGVyIHRvIGluY2x1ZGUgaXQgaW4gdGhlIHJlc3BvbnNlLCBhcyBvcHBvc2VkIHRvIHJl\
dHVybmluZyBhbiBlbXB0eSByZXNwb25zZSBpZiBhIG1lc3NhZ2UgaXMgbm90IHlldCBhdmFpbGFi\
bGUuIDEgdG8gMjAnCiAgICAgICAgZW51bTogWyIxIiwgIjIiLCAiMyIsICI0IiwgIjUiLCAiNiIs\
ICI3IiwgIjgiLCAiOSIsICIxMCIsICIxMSIsICIxMiIsICIxMyIsICIxNCIsICIxNSIsICIxNiIs\
ICIxNyIsICIxOCIsICIxOSIsICIyMCJdCiAgICAgICAgdHlwZTogZW51bQogICAgICAgIGRlZmF1\
bHQ6ICIxIgogICAgICAtIG5hbWU6IFVzZWRlYWRsZXR0ZXJRdWV1ZQogICAgICAgIHRpdGxlOiBV\
c2UgRGVhZCBMZXR0ZXIgUXVldWUKICAgICAgICBkZXNjcmlwdGlvbjogJ0EgZGVhZC1sZXR0ZXIg\
cXVldWUgaXMgYSBxdWV1ZSB0aGF0IG90aGVyIChzb3VyY2UpIHF1ZXVlcyBjYW4gdGFyZ2V0IGZv\
ciBtZXNzYWdlcyB0aGF0IGNhbiBub3QgYmUgcHJvY2Vzc2VkIChjb25zdW1lZCkgc3VjY2Vzc2Z1\
bGx5LiBZb3UgY2FuIHNldCBhc2lkZSBhbmQgaXNvbGF0ZSB0aGVzZSBtZXNzYWdlcyBpbiB0aGUg\
ZGVhZC1sZXR0ZXIgcXVldWUgdG8gZGV0ZXJtaW5lIHdoeSB0aGVpciBwcm9jZXNzaW5nIGRvZXMg\
bm90IHN1Y2NlZWQuJwogICAgICAgIGVudW06IFsidHJ1ZSIsICJmYWxzZSJdCiAgICAgICAgdHlw\
ZTogZW51bQogICAgICAgIGRlZmF1bHQ6ICJmYWxzZSIKICAgICAgLSBuYW1lOiBWaXNpYmlsaXR5\
VGltZW91dAogICAgICAgIHRpdGxlOiBWaXNpYmlsaXR5IFRpbWVvdXQKICAgICAgICBkZXNjcmlw\
dGlvbjogJ1RoaXMgc2hvdWxkIGJlIGxvbmdlciB0aGFuIHRoZSB0aW1lIGl0IHdvdWxkIHRha2Ug\
dG8gcHJvY2VzcyBhbmQgZGVsZXRlIGEgbWVzc2FnZSwgdGhpcyBzaG91bGQgbm90IGV4Y2VlZCAx\
MiBob3Vycy4nCiAgICAgICAgdHlwZTogaW50CiAgICAgICAgZGVmYXVsdDogNQo="


USER apb
