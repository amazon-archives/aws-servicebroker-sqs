FROM ansibleplaybookbundle/apb-base
MAINTAINER Ansible Playbook Bundle Community

RUN yum -y install python-boto3 && yum clean all

COPY roles /opt/ansible/roles
COPY playbooks /opt/apb/actions

LABEL "com.redhat.apb.version"="0.1.0"
LABEL "com.redhat.apb.spec"=\
"bmFtZTogc3FzLXN0ZC1hcGIKaW1hZ2U6IGFuc2libGVwbGF5Ym9va2J1bmRsZS9zcXMtc3RkLWFw\
YgpkZXNjcmlwdGlvbjogJ01hbmFnZWQgc3FzIHN0YW5kYXJkIHF1ZXVlJwp0YWdzOgogIC0gYW1h\
em9uCiAgLSBzcXMKICAtIHN0YW5kYXJkCmJpbmRhYmxlOiB0cnVlCmFzeW5jOiBvcHRpb25hbApw\
bGFuczoKICAtIG5hbWU6IGRlZmF1bHQKICAgIGRlc2NyaXB0aW9uOiAnTWFuYWdlZCBTUVMgU3Rh\
bmRhcmQgUXVldWUnCiAgICBmcmVlOiBmYWxzZQogICAgcGFyYW1ldGVyczoKICAgICAgLSBuYW1l\
OiBzdGFja19pZGVudGlmaWVyCiAgICAgICAgdGl0bGU6IFVuaXF1ZSBTdGFjayBJZGVudGlmaWVy\
CiAgICAgICAgZGVzY3JpcHRpb246ICdVbmlxdWUgaWRlbnRpZmllciB0byBiZSBpbmNsdWRlZCBp\
biB0aGUgQ2xvdWRGb3JtYXRpb24gU3RhY2sgTmFtZSB0byBwcmV2ZW50IG5hbWluZyBjb2xsaXNp\
b25zLiBNdXN0IG9ubHkgY29udGFpbiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycyBhbmQgaHlwaGVu\
cy4gKGUuZy4gInNhbXBsZS1zcXMtc3RkLXN0YWNrIiwgInByb2R1Y3Rpb24tc3FzLXN0ZC0wOC0y\
MDE3IiknCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogYXdzX2FjY2Vzc19rZXkK\
ICAgICAgICB0aXRsZTogQVdTIEFjY2VzcyBLZXkKICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBB\
Y2Nlc3MgS2V5IHRvIGF1dGhlbnRpY2F0ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3Ry\
aW5nCiAgICAgIC0gbmFtZTogYXdzX3NlY3JldF9rZXkKICAgICAgICB0aXRsZTogQVdTIFNlY3Jl\
dCBLZXkKICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBTZWNyZXQgS2V5IHRvIGF1dGhlbnRpY2F0\
ZSB0byBBV1Mgd2l0aC4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgIC0gbmFtZTogcmVnaW9u\
CiAgICAgICAgdGl0bGU6IEFXUyBSZWdpb24KICAgICAgICBkZXNjcmlwdGlvbjogJ0FXUyBSZWdp\
b24gdG8gY3JlYXRlIFJEUyBpbnN0YW5jZSBpbi4nCiAgICAgICAgdHlwZTogc3RyaW5nCiAgICAg\
ICAgZGVmYXVsdDogInVzLXdlc3QtMiIKICAgICAgLSBuYW1lOiBEZWxheVNlY29uZHMKICAgICAg\
ICB0aXRsZTogRGVsYXkgU2Vjb25kcwogICAgICAgIGRlc2NyaXB0aW9uOiAnVGhlIElkIG9mIHRo\
ZSBBTUkgeW91IHdpc2ggdG8gbGF1bmNoIHRoZSBpbnN0YW5jZSBmcm9tLicKICAgICAgICB0eXBl\
OiBpbnQKICAgICAgICBkZWZhdWx0OiA1CiAgICAgIC0gbmFtZTogTWF4aW11bU1lc3NhZ2VTaXpl\
CiAgICAgICAgdGl0bGU6IE1heGltdW0gTWVzc2FnZSBTaXplCiAgICAgICAgZGVzY3JpcHRpb246\
ICdUaGUgbGltaXQgb2YgaG93IG1hbnkgYnl0ZXMgdGhhdCBhIG1lc3NhZ2UgY2FuIGNvbnRhaW4g\
YmVmb3JlIEFtYXpvbiBTUVMgcmVqZWN0cyBpdCwgMTAyNCBieXRlcyAoMSBLaUIpIHRvIDI2MjE0\
NCBieXRlcyAoMjU2IEtpQiknCiAgICAgICAgdHlwZTogaW50CiAgICAgICAgZGVmYXVsdDogMjYy\
MTQ0CiAgICAgIC0gbmFtZTogTWVzc2FnZVJldGVudGlvblBlcmlvZAogICAgICAgIHRpdGxlOiBN\
ZXNzYWdlIFJldGVudGlvbiBQZXJpb2QKICAgICAgICBkZXNjcmlwdGlvbjogJ1RoZSBudW1iZXIg\
b2Ygc2Vjb25kcyB0aGF0IEFtYXpvbiBTUVMgcmV0YWlucyBhIG1lc3NhZ2UuIFlvdSBjYW4gc3Bl\
Y2lmeSBhbiBpbnRlZ2VyIHZhbHVlIGZyb20gNjAgc2Vjb25kcyAoMSBtaW51dGUpIHRvIDEyMDk2\
MDAgc2Vjb25kcyAoMTQgZGF5cykuJwogICAgICAgIHR5cGU6IGludAogICAgICAgIGRlZmF1bHQ6\
IDM0NTYwMAogICAgICAtIG5hbWU6IFJlY2VpdmVNZXNzYWdlV2FpdFRpbWVTZWNvbmRzCiAgICAg\
ICAgdGl0bGU6IFJlY2VpdmUgTWVzc2FnZSBXYWl0IFRpbWUgU2Vjb25kcwogICAgICAgIGRlc2Ny\
aXB0aW9uOiAnU3BlY2lmaWVzIHRoZSBkdXJhdGlvbiwgaW4gc2Vjb25kcywgdGhhdCB0aGUgUmVj\
ZWl2ZU1lc3NhZ2UgYWN0aW9uIGNhbGwgd2FpdHMgdW50aWwgYSBtZXNzYWdlIGlzIGluIHRoZSBx\
dWV1ZSBpbiBvcmRlciB0byBpbmNsdWRlIGl0IGluIHRoZSByZXNwb25zZSwgYXMgb3Bwb3NlZCB0\
byByZXR1cm5pbmcgYW4gZW1wdHkgcmVzcG9uc2UgaWYgYSBtZXNzYWdlIGlzIG5vdCB5ZXQgYXZh\
aWxhYmxlLiAxIHRvIDIwJwogICAgICAgIHR5cGU6IGludAogICAgICAgIGRlZmF1bHQ6IDAKICAg\
ICAgLSBuYW1lOiBVc2VkZWFkbGV0dGVyUXVldWUKICAgICAgICB0aXRsZTogVXNlIERlYWQgTGV0\
dGVyIFF1ZXVlCiAgICAgICAgZGVzY3JpcHRpb246ICdBIGRlYWQtbGV0dGVyIHF1ZXVlIGlzIGEg\
cXVldWUgdGhhdCBvdGhlciAoc291cmNlKSBxdWV1ZXMgY2FuIHRhcmdldCBmb3IgbWVzc2FnZXMg\
dGhhdCBjYW4gbm90IGJlIHByb2Nlc3NlZCAoY29uc3VtZWQpIHN1Y2Nlc3NmdWxseS4gWW91IGNh\
biBzZXQgYXNpZGUgYW5kIGlzb2xhdGUgdGhlc2UgbWVzc2FnZXMgaW4gdGhlIGRlYWQtbGV0dGVy\
IHF1ZXVlIHRvIGRldGVybWluZSB3aHkgdGhlaXIgcHJvY2Vzc2luZyBkb2VzIG5vdCBzdWNjZWVk\
LicKICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICBkZWZhdWx0OiAiZmFsc2UiCiAgICAgIC0g\
bmFtZTogVmlzaWJpbGl0eVRpbWVvdXQKICAgICAgICB0aXRsZTogVmlzaWJpbGl0eSBUaW1lb3V0\
CiAgICAgICAgZGVzY3JpcHRpb246ICdUaGlzIHNob3VsZCBiZSBsb25nZXIgdGhhbiB0aGUgdGlt\
ZSBpdCB3b3VsZCB0YWtlIHRvIHByb2Nlc3MgYW5kIGRlbGV0ZSBhIG1lc3NhZ2UsIHRoaXMgc2hv\
dWxkIG5vdCBleGNlZWQgMTIgaG91cnMuJwogICAgICAgIHR5cGU6IGludAogICAgICAgIGRlZmF1\
bHQ6IDUKICAgIG1ldGFkYXRhOgogICAgICAgIGRpc3BsYXlOYW1lOiAiQW1hem9uIFNRUyIKICAg\
ICAgICBsb25nRGVzY3JpcHRpb246ICJBbWF6b24gU2ltcGxlIFF1ZXVlIFNlcnZpY2UgKEFtYXpv\
biBTUVMpIGlzIGEgZnVsbHkgbWFuYWdlZCBtZXNzYWdlIHF1ZXVpbmcgc2VydmljZSB0aGF0IG1h\
a2VzIGl0IGVhc3kgdG8gZGVjb3VwbGUgYW5kIHNjYWxlIG1pY3Jvc2VydmljZXMsIGRpc3RyaWJ1\
dGVkIHN5c3RlbXMsIGFuZCBzZXJ2ZXJsZXNzIGFwcGxpY2F0aW9ucy4gQW1hem9uIFNRUyBtb3Zl\
cyBkYXRhIGJldHdlZW4gZGlzdHJpYnV0ZWQgYXBwbGljYXRpb24gY29tcG9uZW50cyBhbmQgaGVs\
cHMgeW91IGRlY291cGxlIHRoZXNlIGNvbXBvbmVudHMuIgogICAgICAgIGltYWdlVXJsOiAiaHR0\
cHM6Ly9kMC5hd3NzdGF0aWMuY29tL2Nsb3VkLXN0b3JhZ2UvRGVja19EYXRhYmFzZXMucG5nIgog\
ICAgICAgIGRvY3VtZW50YXRpb25Vcmw6ICJodHRwczovL2F3cy5hbWF6b24uY29tL2RvY3VtZW50\
YXRpb24vc3FzLyIKICAgICAgICBjb3N0OiAkMC4wMAo="


USER apb
